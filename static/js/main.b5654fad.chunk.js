(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{100:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var a=n(6),o=n.n(a),c=n(83),r=n.n(c),s=(n(93),n(11)),i=(n.p,n(94),n(29)),u=n(19),l=n(12),j=(n(95),n(20),n(0)),b=n(13),d=(n(84),n(85)),h="/unusualcubes-fe",f=n(10);Object(b.d)({TextGeometry:d.a});n(36),n(100);var O=n(41),m=n(154),p=n(155),x=n(157),v=n(158),g=(n(39),n(101),n(156)),M=n(153);var w=function(e){var t=e.url,n=void 0===t?h+"/model_6.glb":t,o=e.receiveShadow,c=Object(g.a)(n),r=c.scene,s=c.nodes,i=(c.materials,c.animations),u=Object(M.a)(i,r),l=(u.ref,u.mixer,u.names,u.actions);u.clips,console.log("nodes",s),Object(a.useEffect)((function(){console.log("actions:",l),Object.values(l).forEach((function(e,t){e.play()}))}),[]);for(var j=0,b=Object.values(s);j<b.length;j++){var d=b[j];d.castShadow=!0,d.receiveShadow=Boolean(o)}return Object(f.jsx)("group",{scale:[.5,.5,.5],position:[-4.5,-4.5,4.5],children:Object(f.jsx)("primitive",{object:r})})},S=(n(102),n(40));var y=function(e){var t=e.model,n=e.radius,o=void 0===n?1:n,c=(e.randomness,e.mouse),r=void 0===c?{current:[0,0]}:c,s=e.count,i=void 0===s?100:s,u=Object(a.useRef)(),l=(Object(a.useRef)(),Object(b.g)()),d=l.size,h=l.viewport,O=(d.width,h.width,Object(a.useMemo)((function(){return new j.Object3D}),[])),m=Object(a.useMemo)((function(){for(var e=[],t=0;t<i;t++){var n=100*Math.random(),a=20+100*Math.random(),o=.001+Math.random()/1e3,c=100*Math.random()-50,r=100*Math.random()-50,s=100*Math.random()-50;e.push({t:n,factor:a,speed:o,xFactor:c,yFactor:r,zFactor:s,mx:0,my:0})}return e}),[i]);return Object(b.e)((function(e){var t=new j.Vector3,n=new j.Vector3;t.set(r.current[0]/window.innerWidth*2-1,-r.current[1]/window.innerHeight*2+1,.5),m.forEach((function(e,t){var a=e.t,c=e.factor,r=e.speed,s=e.xFactor,i=e.yFactor,l=e.zFactor,j=.4*(.01+Math.pow(Math.cos(a/12),2));a=e.t+=r/2/j/5;var b=Math.cos(a)+Math.sin(1*a)/10,d=Math.sin(a)+Math.cos(2*a)/10;e.mx+=.01*(n.x-e.mx),e.my+=.01*(n.z-e.my);var h=Math.PI,f=2*Math.PI,m=(e.mx/10*b+s+Math.cos(a/10*c)+Math.sin(1*a)*c/10)%f,p=(e.my/10*d+i+Math.sin(a/10*c)+Math.cos(2*a)*c/10)%f;p=(p+f)%f;var x=(e.my/10*d+l+Math.cos(a/10*c)+Math.sin(3*a)*c/10)%f,v=2*p/h-1,g=0;g=v>1?-Math.acos(2-v):Math.acos(v),O.position.set(o*Math.cos(m)*Math.sin(g),o*Math.cos(g),o*Math.sin(m)*Math.sin(g)),O.scale.set(j,j,j),O.rotation.set(m,x,p),O.updateMatrix(),u.current.setMatrixAt(t,O.matrix)})),u.current.instanceMatrix.needsUpdate=!0})),Object(f.jsx)("instancedMesh",{ref:u,args:[t.geometry,t.material,i]})};var k=function(e){var t=e.url,n=void 0===t?h+"/shards.glb":t,a=e.radius,o=void 0===a?1:a,c=e.randomness,r=void 0===c?.08:c,s=e.mouse,i=Object(g.a)(n),u=i.scene,l=i.nodes,j=(i.materials,i.animations),b=Object(M.a)(j,u),d=(b.ref,b.mixer,b.names,b.actions,b.clips,Object.values(l).filter((function(e){return"Mesh"==e.type})));return d.forEach((function(e){return e.position.x=0})),console.log("meshes",d),Object(f.jsx)("group",{scale:[1,1,1],position:[0,0,0],children:d.map((function(e){return Object(f.jsx)(y,{model:e,radius:o,randomness:r,mouse:s},e.name)}))})};function I(e){var t=e.bgcolor,n=Object(b.f)(O.a,h+"/alphamap.jpg"),o=Object(a.useState)(t),c=Object(l.a)(o,2),r=(c[0],c[1],Object(a.useRef)(t)),s=Object(a.useRef)(0),i=Object(a.useRef)();return Object(b.e)((function(e){var n=e.clock.getElapsedTime();if(n-s.current>.01){s.current=n;var a=function(e,t,n){function a(e){return parseInt(e,16)}n="undefined"!==typeof n?n:50;for(var o="#",c=0;c<=5;c+=2){for(var r=a(e.substr(c+1,2)),s=a(t.substr(c+1,2)),i=Math.floor(s+n/100*(r-s)).toString(16);i.length<2;)i="0"+i;o+=i}return o}(t,r.current,3);r.current=a,i.current.color=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16)/255,g:parseInt(t[2],16)/255,b:parseInt(t[3],16)/255}:null}(a)}})),Object(f.jsx)(m.a,{args:[100,100],receiveShadow:!0,"rotation-x":-Math.PI/2,position:[0,-12,0],children:Object(f.jsx)("meshPhysicalMaterial",{ref:i,attach:"material",roughness:.5,transparent:!0,opacity:.99,alphaMap:n})})}function P(e){var t=new S(e).toV0();console.log(t.toString(),t.version);var n=t.toV1(),a=t.toString();console.log(a);var o=n.toBaseEncodedString("b");return console.log(o),"https://".concat(o,".ipfs.dweb.link")}var C=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],c="Qmf6gwEkmkW6VTEsku8nenQVroV9A7wuPKKSX7YCtbNwmf",r=Object(a.useState)(P(c)),s=Object(l.a)(r,2),i=s[0],u=s[1],j=Object(a.useState)(P(c)),d=Object(l.a)(j,2),O=d[0],m=d[1],g=Object(a.useState)("#0a1022"),M=Object(l.a)(g,2),S=M[0],y=M[1],C=Object(a.useRef)([0,0]);return Object(a.useCallback)((function(e){var t=e.clientX,n=e.clientY;return console.log(t,n),C.current=[t,n]}),[]),Object(f.jsxs)("div",{className:"page",children:[Object(f.jsx)("div",{className:"canvas-holder",style:{background:S},children:Object(f.jsxs)(b.a,{linear:!0,dpr:[1,2],camera:{fov:65,position:[15,12,15]},onCreated:function(e){e.gl},onMouseMove:function(){console.log("oops!")},onMouseOver:function(){console.log("what?")},colorManagement:!0,shadowMap:!0,shadows:!0,mode:"concurrent",children:[Object(f.jsx)(p.a,{pixelated:!0}),Object(f.jsx)("pointLight",{position:[-5,30,-12],intensity:.3}),Object(f.jsx)("spotLight",{castShadow:!0,"shadow-bias":-.001,position:[-10,20,10],intensity:1,"shadow-mapSize-width":512,"shadow-mapSize-height":512,angle:Math.PI/5,penumbra:1}),Object(f.jsx)("pointLight",{position:[10,20,-5],intensity:.3,color:"#fffaf0"}),Object(f.jsx)(x.a,{minDistance:10,maxDistance:100,enablePan:!1}),Object(f.jsx)(a.Suspense,{fallback:null,children:Object(f.jsx)(I,{bgcolor:S})}),Object(f.jsx)(a.Suspense,{fallback:null,children:Object(f.jsx)(v.a,{background:!1,files:"abandoned_workshop_1k_small.hdr",path:h+"/"})}),Object(f.jsxs)(a.Suspense,{fallback:null,children:[Object(f.jsx)(w,{url:O,receiveShadow:!0}),Object(f.jsx)(k,{url:h+"/snowflakes_lowres2.glb",radius:10,mouse:C})]})]})}),Object(f.jsxs)("div",{className:"ui",children:[Object(f.jsx)("button",{onClick:function(){o(!n),console.log(n),y("#"+Math.floor(16777215*Math.random()).toString(16))},children:"Random Color"}),Object(f.jsxs)("div",{className:"ui__url",children:[Object(f.jsx)("input",{style:{flex:1},value:i,onChange:function(e){return u(e.target.value)}}),Object(f.jsx)("button",{onClick:function(){return m(P(i))},children:"Load"})]})]})]})};var F=function(){return Object(f.jsxs)("div",{className:"",children:[Object(f.jsx)("h1",{style:{color:"#ffffff"},children:" HomePage "}),Object(f.jsx)("br",{}),Object(f.jsx)(i.b,{to:"/item/1",children:"To Item Page"})]})};var E=function(){return Object(f.jsx)(i.a,{basename:"/unusualcubes-fe",children:Object(f.jsxs)(u.c,{children:[Object(f.jsx)(u.a,{path:"/",render:function(e){return Object(f.jsx)(F,Object(s.a)({},e))},exact:!0}),Object(f.jsx)(u.a,{path:"/item/:id",render:function(e){return Object(f.jsx)(C,Object(s.a)({},e))},exact:!0})]})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,159)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),c(e),r(e)}))};r.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(E,{})}),document.getElementById("root")),R()},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){}},[[152,1,2]]]);
//# sourceMappingURL=main.b5654fad.chunk.js.map