(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{100:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var a=n(6),o=n.n(a),s=n(83),c=n.n(s),r=(n(93),n(11)),i=(n.p,n(94),n(29)),l=n(19),u=n(12),j=(n(95),n(20),n(0)),h=n(13),b=(n(84),n(85)),f="/unusualcubes-fe",d=n(9);Object(h.d)({TextGeometry:b.a});n(37),n(100);var m=n(42),O=n(154),p=n(155),x=n(158),v=(n(40),n(101),n(156)),g=n(153);var M=function(e){var t=e.url,n=void 0===t?f+"/model_6.glb":t,o=e.receiveShadow,s=void 0!==o&&o,c=Object(v.a)(n),r=c.scene,i=c.nodes,l=(c.materials,c.animations),u=Object(g.a)(l,r),j=(u.ref,u.mixer,u.names,u.actions);u.clips,console.log("nodes",i),Object(a.useEffect)((function(){console.log("actions:",j),Object.values(j).forEach((function(e,t){e.play()}))}),[]);for(var h=0,b=Object.values(i);h<b.length;h++){var m=b[h];if(m.castShadow=!0,m.receiveShadow=Boolean(s),m.material){var O=m.material;O.aoMap=null,O.envMapIntensity=.3,O.name.startsWith("ZMAT")||(O.envMapIntensity=.6)}}return console.log("cubes",i),Object(d.jsx)("group",{scale:[.5,.5,.5],position:[-4.5,-4.5,4.5],children:Object(d.jsx)("primitive",{object:r})})},w=(n(102),n(41));function y(e){for(var t=0,n=0;n<e;n++)t+=Math.random();return t/e}var S=function(e){var t=e.model,n=e.radius,o=void 0===n?1:n,s=(e.randomness,e.mouse),c=void 0===s?{current:[0,0]}:s,r=e.count,i=void 0===r?100:r,l=(e.log,Object(a.useRef)()),u=(Object(a.useRef)(),Object(h.g)()),b=u.size,f=u.viewport,m=(b.width,f.width,Object(a.useMemo)((function(){return new j.Object3D}),[])),O=Object(a.useMemo)((function(){for(var e=[],t=(Math.PI,Math.PI,0);t<i;t++){var n=100*Math.random(),a=20+100*Math.random(),o=.002+2*Math.random()/1e3,s=100*Math.random()-50,c=100*Math.random()-50,r=100*Math.random()-50,l=Math.PI*y(1001);e.push({t:n,factor:a,speed:o,xFactor:s,yFactor:c,zFactor:r,phi:l,mx:0,my:0,maxfx:0})}return e}),[i]),p=Object(a.useMemo)((function(){return{t:0}}),[]);return Object(h.e)((function(e){var t=new j.Vector3,n=new j.Vector3;t.set(c.current[0]/window.innerWidth*2-1,-c.current[1]/window.innerHeight*2+1,.5),O.forEach((function(e,t){var a=e.t,s=e.factor,c=e.speed,r=(e.xFactor,e.yFactor,e.zFactor),i=e.phi,u=e.maxfx,j=.35*(1-.2*(.5+Math.cos(a/12)/2));a=e.t+=c/2/j/5;var h=Math.cos(a)+Math.sin(1*a)/10,b=Math.sin(a)+Math.cos(2*a)/10;e.mx+=.01*(n.x-e.mx),e.my+=.01*(n.z-e.my);Math.PI;var f=2*Math.PI,d=e.mx/10*h+Math.cos(a/10*s)+Math.sin(1*a)*s/10,O=e.my/10*b+Math.sin(1*a/10*s)+Math.cos(3*a*2)*s/10,x=(e.my/10*b+r+Math.cos(a/10*s)+Math.sin(3*a)*s/10)%f;u=e.maxfx=Math.max(u,Math.abs(d));var v=a+d/200;Math.sin(p.t/20);i+=O/20,m.position.set(o*Math.cos(v)*Math.sin(i),o*Math.cos(i),o*Math.sin(v)*Math.sin(i)),m.scale.set(j,j,j),m.rotation.set(d,x,O),m.updateMatrix(),l.current.setMatrixAt(t,m.matrix)})),p.t+=1,l.current.instanceMatrix.needsUpdate=!0})),Object(d.jsx)("instancedMesh",{ref:l,args:[t.geometry,t.material,i]})};var P=function(e){var t=e.url,n=void 0===t?f+"/shards.glb":t,a=e.radius,o=void 0===a?1:a,s=e.randomness,c=void 0===s?.08:s,r=e.mouse,i=e.count,l=void 0===i?1e3:i,u=Object(v.a)(n),j=u.scene,h=u.nodes,b=(u.materials,u.animations),m=Object(g.a)(b,j),O=(m.ref,m.mixer,m.names,m.actions,m.clips,Object.values(h).filter((function(e){return"Mesh"==e.type})));O.forEach((function(e){return e.position.x=0})),console.log("meshes",O);var p=Math.round(l/O.length);return Object(d.jsx)("group",{scale:[1,1,1],position:[0,0,0],children:O.map((function(e,t){return Object(d.jsx)(S,{model:e,radius:o,randomness:c,mouse:r,count:p,log:0==t},e.name)}))})},k=n(157);var I=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("ambientLight",{intensity:.3,color:"#ffffff"}),Object(d.jsx)("pointLight",{position:[-5,30,-12],intensity:.3}),Object(d.jsxs)("mesh",{position:[-5,30,-12],scale:.5,children:[Object(d.jsx)("sphereBufferGeometry",{attach:"geometry"}),Object(d.jsx)("meshBasicMaterial",{attach:"material"})]}),Object(d.jsx)("spotLight",{castShadow:!0,"shadow-bias":-.001,position:[-10,20,10],intensity:1.2,"shadow-mapSize-width":512,"shadow-mapSize-height":512,angle:Math.PI/5,penumbra:1}),Object(d.jsxs)("mesh",{position:[-10,20,10],scale:1.5,children:[Object(d.jsx)("sphereBufferGeometry",{attach:"geometry"}),Object(d.jsx)("meshBasicMaterial",{attach:"material"})]}),Object(d.jsx)("pointLight",{position:[10,20,-5],intensity:.6,color:"#fffaf0"}),Object(d.jsxs)("mesh",{position:[10,20,-5],scale:.5,children:[Object(d.jsx)("sphereBufferGeometry",{attach:"geometry"}),Object(d.jsx)("meshBasicMaterial",{attach:"material"})]}),Object(d.jsx)("pointLight",{position:[-10,-10,-3],intensity:.6,color:"#fffaf0"}),Object(d.jsxs)("mesh",{position:[-10,-10,-3],scale:.5,children:[Object(d.jsx)("sphereBufferGeometry",{attach:"geometry"}),Object(d.jsx)("meshBasicMaterial",{attach:"material"})]}),Object(d.jsx)("pointLight",{position:[10,-10,-5],intensity:.2,color:"#fffaf0"}),Object(d.jsxs)("mesh",{position:[10,-10,-5],scale:.5,children:[Object(d.jsx)("sphereBufferGeometry",{attach:"geometry"}),Object(d.jsx)("meshBasicMaterial",{attach:"material"})]}),Object(d.jsx)(a.Suspense,{fallback:null,children:Object(d.jsx)(k.a,{background:!1,files:"abandoned_workshop_1k_small.hdr",path:f+"/"})})]})};var B=function(e){var t=e.url,n=void 0===t?f+"/halo-gold.glb":t,o=e.receiveShadow,s=void 0!==o&&o,c=e.position,r=void 0===c?[0,7,0]:c,i=e.scale,l=void 0===i?[1,1,1]:i,u=Object(v.a)(n),j=u.scene,h=u.nodes,b=(u.materials,u.animations),m=Object(g.a)(b,j),O=(m.ref,m.mixer,m.names,m.actions);m.clips,console.log("nodes",h),Object(a.useEffect)((function(){console.log("actions:",O),Object.values(O).forEach((function(e,t){e.play()}))}),[]);for(var p=0,x=Object.values(h);p<x.length;p++){var M=x[p];if(M.castShadow=!0,M.receiveShadow=Boolean(s),M.material){var w=M.material;w.aoMap=null,w.envMapIntensity=.3,w.metalness>0&&(w.envMapIntensity=.75)}"WingArmL"==M.name&&(M.position.x=-3.5),"WingArmR"==M.name&&(M.position.x=3.5)}return console.log("cubes",h),Object(d.jsx)("group",{scale:l,position:r,children:Object(d.jsx)("primitive",{object:j})})};function F(e){var t=e.bgcolor,n=Object(h.f)(m.a,f+"/alphamap.jpg"),o=Object(a.useState)(t),s=Object(u.a)(o,2),c=(s[0],s[1],Object(a.useRef)(t)),r=Object(a.useRef)(0),i=Object(a.useRef)();return Object(h.e)((function(e){var n=e.clock.getElapsedTime();if(n-r.current>.01){r.current=n;var a=function(e,t,n){function a(e){return parseInt(e,16)}n="undefined"!==typeof n?n:50;for(var o="#",s=0;s<=5;s+=2){for(var c=a(e.substr(s+1,2)),r=a(t.substr(s+1,2)),i=Math.floor(r+n/100*(c-r)).toString(16);i.length<2;)i="0"+i;o+=i}return o}(t,c.current,3);c.current=a,i.current.color=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16)/255,g:parseInt(t[2],16)/255,b:parseInt(t[3],16)/255}:null}(a)}})),Object(d.jsx)(O.a,{args:[100,100],receiveShadow:!0,"rotation-x":-Math.PI/2,position:[0,-12,0],children:Object(d.jsx)("meshPhysicalMaterial",{ref:i,attach:"material",roughness:.5,transparent:!0,opacity:.6,alphaMap:n})})}function C(e){var t=e.split("/");e=t[0];var n=new w(e).toV0(),a=t.length>1?t[1]:"";console.log(n.toString(),n.version);var o=n.toV1(),s=n.toString();console.log(s);var c=o.toBaseEncodedString("b");return console.log(c),"https://".concat(c,".ipfs.dweb.link/").concat(a)}var E=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],o=t[1],s="Qmf6gwEkmkW6VTEsku8nenQVroV9A7wuPKKSX7YCtbNwmf",c=Object(a.useState)(s),r=Object(u.a)(c,2),i=r[0],l=r[1],j=Object(a.useState)(C(s)),b=Object(u.a)(j,2),m=b[0],O=b[1],v=Object(a.useState)("#0a1022"),g=Object(u.a)(v,2),w=g[0],y=g[1],S=Object(a.useRef)([0,0]),k=(Object(a.useCallback)((function(e){var t=e.clientX,n=e.clientY;return console.log(t,n),S.current=[t,n]}),[]),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent));return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"page",children:[Object(d.jsx)("div",{className:"canvas-holder",style:{background:w},children:Object(d.jsxs)(h.a,{linear:!0,dpr:[1,2],camera:{fov:65,position:[15,12,15]},onCreated:function(e){e.gl},onMouseMove:function(){console.log("oops!")},onMouseOver:function(){console.log("what?")},onMouseMoveCapture:function(){console.log("hmmm")},onPointerMove:function(){console.log("oh oh oh")},onPointerDown:function(){console.log("hey!")},onPointerMoveCapture:function(){console.log("popopo")},colorManagement:!0,shadowMap:!0,shadows:!0,children:[Object(d.jsx)(p.a,{pixelated:!0}),Object(d.jsx)(I,{}),Object(d.jsx)(x.a,{minDistance:10,maxDistance:100,enablePan:!0}),Object(d.jsx)(a.Suspense,{fallback:null,children:Object(d.jsx)(F,{bgcolor:w})}),Object(d.jsx)(a.Suspense,{fallback:null,children:Object(d.jsx)(M,{url:m,receiveShadow:!0})}),Object(d.jsxs)(a.Suspense,{fallback:null,children:[Object(d.jsx)(B,{url:f+"/wings/wings-white.glb",receiveShadow:!0,position:[0,-3,1],scale:[1.5,1.5,1.5]}),Object(d.jsx)(B,{url:f+"/halo/halo-silver.glb",receiveShadow:!0})]}),Object(d.jsx)(a.Suspense,{fallback:null,children:Object(d.jsx)(P,{url:f+"/snowflakes_lowres2.glb",radius:12,mouse:S,count:k?20:50})})]})}),Object(d.jsxs)("div",{className:"ui",children:[Object(d.jsx)("button",{onClick:function(){o(!n),console.log(n),y("#"+Math.floor(16777215*Math.random()).toString(16))},children:"Random Color"}),Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault(),O(C(i))},children:Object(d.jsxs)("div",{className:"ui__url",children:[Object(d.jsx)("input",{style:{flex:1},value:i,onChange:function(e){return l(e.target.value)}}),Object(d.jsx)("button",{type:"submit",children:"Load"})]})})]})]})})};var L=function(){return Object(d.jsxs)("div",{className:"",children:[Object(d.jsx)("h1",{style:{color:"#ffffff"},children:" HomePage "}),Object(d.jsx)("br",{}),Object(d.jsx)(i.b,{to:"/item/1",children:"To Item Page"})]})};var R=function(){return Object(d.jsx)(i.a,{basename:"/unusualcubes-fe",children:Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{path:"/",render:function(e){return Object(d.jsx)(L,Object(r.a)({},e))},exact:!0}),Object(d.jsx)(l.a,{path:"/item/:id",render:function(e){return Object(d.jsx)(E,Object(r.a)({},e))},exact:!0})]})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,159)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),o(e),s(e),c(e)}))};c.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(R,{})}),document.getElementById("root")),A()},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){}},[[152,1,2]]]);
//# sourceMappingURL=main.c28c85a6.chunk.js.map