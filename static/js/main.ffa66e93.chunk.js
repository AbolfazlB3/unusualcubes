(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{100:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n.n(a),r=n(83),o=n.n(r),s=(n(93),n(11)),i=(n.p,n(94),n(29)),u=n(19),l=n(12),j=(n(95),n(20),n(0)),b=n(13),d=(n(84),n(85)),h="/unusualcubes-fe",f=n(10);Object(b.d)({TextGeometry:d.a});n(36),n(100);var O=n(41),m=n(154),p=n(155),x=n(157),v=n(158),g=(n(39),n(101),n(156)),M=n(153);var w=function(e){var t=e.url,n=void 0===t?h+"/model_6.glb":t,c=e.receiveShadow,r=Object(g.a)(n),o=r.scene,s=r.nodes,i=(r.materials,r.animations),u=Object(M.a)(i,o),l=(u.ref,u.mixer,u.names,u.actions);u.clips,console.log("nodes",s),Object(a.useEffect)((function(){console.log("actions:",l),Object.values(l).forEach((function(e,t){e.play()}))}),[]);for(var j=0,b=Object.values(s);j<b.length;j++){var d=b[j];d.castShadow=!0,d.receiveShadow=Boolean(c)}return Object(f.jsx)("group",{scale:[.5,.5,.5],position:[-4.5,-4.5,4.5],children:Object(f.jsx)("primitive",{object:o})})},S=(n(102),n(40));var y=function(e){var t=e.model,n=(e.radius,e.randomness,e.mouse),c=void 0===n?{current:[0,0]}:n,r=Object(a.useRef)(),o=(Object(a.useRef)(),Object(b.g)()),s=o.size,i=o.viewport,u=(s.width,i.width,Object(a.useMemo)((function(){return new j.Object3D}),[])),l=Object(a.useMemo)((function(){for(var e=[],t=0;t<100;t++){var n=100*Math.random(),a=20+100*Math.random(),c=.01+Math.random()/200,r=100*Math.random()-50,o=100*Math.random()-50,s=100*Math.random()-50;e.push({t:n,factor:a,speed:c,xFactor:r,yFactor:o,zFactor:s,mx:0,my:0})}return e}),[100]);return Object(b.e)((function(e){l.forEach((function(e,t){var n=e.t,a=e.factor,o=e.speed,s=e.xFactor,i=e.yFactor,l=e.zFactor;n=e.t+=o/2;var j=Math.cos(n)+Math.sin(1*n)/10,b=Math.sin(n)+Math.cos(2*n)/10,d=1.2*Math.pow(Math.cos(n),2);e.mx+=.01*(c.current[0]-e.mx),e.my+=.01*(-1*c.current[1]-e.my),u.position.set(e.mx/10*j+s+Math.cos(n/10*a)+Math.sin(1*n)*a/10,e.my/10*b+i+Math.sin(n/10*a)+Math.cos(2*n)*a/10,e.my/10*b+l+Math.cos(n/10*a)+Math.sin(3*n)*a/10),u.scale.set(d,d,d),u.rotation.set(5*d,5*d,5*d),u.updateMatrix(),r.current.setMatrixAt(t,u.matrix)})),r.current.instanceMatrix.needsUpdate=!0})),Object(f.jsx)("instancedMesh",{ref:r,args:[t.geometry,t.material,100]})};var k=function(e){var t=e.url,n=void 0===t?h+"/shards.glb":t,a=(e.radius,e.randomness,Object(g.a)(n)),c=a.scene,r=a.nodes,o=(a.materials,a.animations),s=Object(M.a)(o,c),i=(s.ref,s.mixer,s.names,s.actions,s.clips,Object.values(r).filter((function(e){return"Mesh"==e.type})));return i.forEach((function(e){return e.position.x=0})),console.log("meshes",i),Object(f.jsx)("group",{scale:[10,10,10],position:[0,0,4.5],children:i.map((function(e){return Object(f.jsx)(y,{model:e},e.name)}))})};function F(e){var t=e.bgcolor,n=Object(b.f)(O.a,h+"/alphamap.jpg"),c=Object(a.useState)(t),r=Object(l.a)(c,2),o=(r[0],r[1],Object(a.useRef)(t)),s=Object(a.useRef)(0),i=Object(a.useRef)();return Object(b.e)((function(e){var n=e.clock.getElapsedTime();if(n-s.current>.01){s.current=n;var a=function(e,t,n){function a(e){return parseInt(e,16)}n="undefined"!==typeof n?n:50;for(var c="#",r=0;r<=5;r+=2){for(var o=a(e.substr(r+1,2)),s=a(t.substr(r+1,2)),i=Math.floor(s+n/100*(o-s)).toString(16);i.length<2;)i="0"+i;c+=i}return c}(t,o.current,3);o.current=a,i.current.color=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16)/255,g:parseInt(t[2],16)/255,b:parseInt(t[3],16)/255}:null}(a)}})),Object(f.jsx)(m.a,{args:[100,100],receiveShadow:!0,"rotation-x":-Math.PI/2,position:[0,-12,0],children:Object(f.jsx)("meshPhysicalMaterial",{ref:i,attach:"material",roughness:.5,transparent:!0,opacity:.99,alphaMap:n})})}function C(e){var t=new S(e).toV0();console.log(t.toString(),t.version);var n=t.toV1(),a=t.toString();console.log(a);var c=n.toBaseEncodedString("b");return console.log(c),"https://".concat(c,".ipfs.dweb.link")}var E=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r="Qmf6gwEkmkW6VTEsku8nenQVroV9A7wuPKKSX7YCtbNwmf",o=Object(a.useState)(C(r)),s=Object(l.a)(o,2),i=s[0],u=s[1],j=Object(a.useState)(C(r)),d=Object(l.a)(j,2),O=d[0],m=d[1],g=Object(a.useState)("#0a1022"),M=Object(l.a)(g,2),S=M[0],y=M[1];return Object(f.jsxs)("div",{className:"page",children:[Object(f.jsx)("div",{className:"canvas-holder",style:{background:S},children:Object(f.jsxs)(b.a,{linear:!0,dpr:[1,2],camera:{fov:65,position:[15,12,15]},onCreated:function(e){e.gl},colorManagement:!0,shadowMap:!0,shadows:!0,mode:"concurrent",children:[Object(f.jsx)(p.a,{pixelated:!0}),Object(f.jsx)("pointLight",{position:[-5,30,-12],intensity:.3}),Object(f.jsx)("spotLight",{castShadow:!0,"shadow-bias":-.001,position:[-10,20,10],intensity:1,"shadow-mapSize-width":512,"shadow-mapSize-height":512,angle:Math.PI/5,penumbra:1}),Object(f.jsx)("pointLight",{position:[10,20,-5],intensity:.3,color:"#fffaf0"}),Object(f.jsx)(x.a,{minDistance:10,maxDistance:100,enablePan:!1}),Object(f.jsx)(a.Suspense,{fallback:null,children:Object(f.jsx)(F,{bgcolor:S})}),Object(f.jsx)(a.Suspense,{fallback:null,children:Object(f.jsx)(v.a,{background:!1,files:"abandoned_workshop_1k_small.hdr",path:h+"/"})}),Object(f.jsxs)(a.Suspense,{fallback:null,children:[Object(f.jsx)(w,{url:O,receiveShadow:!0}),Object(f.jsx)(k,{})]})]})}),Object(f.jsxs)("div",{className:"ui",children:[Object(f.jsx)("button",{onClick:function(){c(!n),console.log(n),y("#"+Math.floor(16777215*Math.random()).toString(16))},children:"Random Color"}),Object(f.jsxs)("div",{className:"ui__url",children:[Object(f.jsx)("input",{style:{flex:1},value:i,onChange:function(e){return u(e.target.value)}}),Object(f.jsx)("button",{onClick:function(){return m(C(i))},children:"Load"})]})]})]})};var I=function(){return Object(f.jsxs)("div",{className:"",children:[Object(f.jsx)("h1",{style:{color:"#ffffff"},children:" HomePage "}),Object(f.jsx)("br",{}),Object(f.jsx)(i.b,{to:"/item/1",children:"To Item Page"})]})};var P=function(){return Object(f.jsx)(i.a,{basename:"/unusualcubes-fe",children:Object(f.jsxs)(u.c,{children:[Object(f.jsx)(u.a,{path:"/",render:function(e){return Object(f.jsx)(I,Object(s.a)({},e))},exact:!0}),Object(f.jsx)(u.a,{path:"/item/:id",render:function(e){return Object(f.jsx)(E,Object(s.a)({},e))},exact:!0})]})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,159)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(P,{})}),document.getElementById("root")),L()},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){}},[[152,1,2]]]);
//# sourceMappingURL=main.ffa66e93.chunk.js.map